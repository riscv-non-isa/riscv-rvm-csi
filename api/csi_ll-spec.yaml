module:
  name: Low-Level HAL API
  description: >
    APIs giving access to low-level functionality (may not be portable).
  c-specific: true
  c-filename: csi_ll.h
  c-type-declarations:
  - name: csi_interrupt_enables_t
    description: Interrupt enable bits in the mie CSR
    type: enum
    enum-members:
    - name: CSI_SW_INTERRUPTS_ENABLE
      value: 8
      description: Software interrupts enable bit index
    - name: CSI_TIMER_INTERRUPTS_ENABLE
      value: 128
      description: Timer interrupts enable bit index
    - name: CSI_EXT_INTERRUPTS_ENABLE
      value: 2048
      description: External interrupts enable bit index
  functions:
  - name: csi_ll_set_interrupt_enables
    description: Enable or disable 3 classes of interrupts for this hart.  Must be run in machine mode.
    c-params:
    - name: int_enables
      description: >
        This word will be written directly to the mie CSR in order to control whether software interrupts,
        timer interrupts and external interrupts are enabled.  To enable all 3 classes of interrupts,
        pass a value of CSI_SW_INTERRUPTS_ENABLE | CSI_TIMER_INTERRUPTS_ENABLE | CSI_EXT_INTERRUPTS_ENABLE.  To
        disable all interrupts, pass a value of 0.
      type: unsigned
    c-return-value:
      description: >
        Integer in the same format as int_enables, reflecting the previous value of int_enables prior to the
        change.  This may be stored and passed back into another call to csi_ll_set_interrupt_enables in order
        to restore the previous interrupt enables state.
      type: unsigned
